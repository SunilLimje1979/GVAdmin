{% extends "base.html" %} {% block content %}

<div class="content container-fluid">
  <div class="page-header">
    <div class="row">
      <div class="col-sm-12">
        {% comment %} <h3 class="page-title">
          Welcome {{ request.session.user_name|default:"User" }}!
        </h3> {% endcomment %}
        <ul class="breadcrumb">
          <li class="breadcrumb-item active">Dashboard</li>
        </ul>
      </div>
    </div>
  </div>
  {% include "includes/message.html" %}
  <div class="row">
    <div class="col-xl-3 col-sm-6 col-12 d-flex">
      <div class="card bg-one w-100">
        <div class="card-body">
          <div
            class="db-widgets d-flex justify-content-between align-items-center"
          >
            <div class="db-icon">
              <i class="fa-solid fa-road"></i>
            </div>
            <div class="db-info">
              <h3>{{routesCounts}}</h3>
              <h6>Jeweller</h6>
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </div>
</div>
<script>
  const user_id = "{{ user_id|escapejs }}";   // Ensure proper escaping
  const token = "{{ token|escapejs }}";         // Ensure proper escaping
  const user_name = "{{ user_name|escapejs }}"; // Ensure proper escaping

  // Storing in localStorage
  localStorage.setItem("user_id", user_id);
  localStorage.setItem("token", token);
  localStorage.setItem("user_name", user_name);

  // Logging to verify
  console.log(user_id, token, user_name); // Access the values
</script>

{% include "includes/chart.html" %} {% endblock content %}
